<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>wahlap-support</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="app-container">
    <!-- 左侧导航栏 -->
    <nav class="sidebar-nav">
      <div class="nav-top">
        <div class="nav-icon user-avatar">
          <svg viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="8" r="4"/><path d="M12 14c-6 0-8 3-8 5v1h16v-1c0-2-2-5-8-5z"/></svg>
        </div>
        <div class="nav-icon active" data-tab="chat">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/></svg>
        </div>
        <div class="nav-icon" data-tab="contacts">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
        </div>
        <div class="nav-icon" data-tab="files">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"/></svg>
        </div>
      </div>
      <div class="nav-bottom">
        <div class="nav-icon" data-tab="settings">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/></svg>
        </div>
      </div>
    </nav>

    <!-- 联系人/聊天列表 -->
    <aside class="contact-list">
      <div class="search-bar">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
        <input type="text" placeholder="搜索">
      </div>
      <div class="contacts">
        <div class="contact-item pinned" data-contact="maimai">
          <img src="assets/chunimai.png" alt="舞萌 | 中二" class="contact-avatar">
          <div class="contact-info">
            <div class="contact-name">舞萌 | 中二</div>
            <div class="contact-preview"></div>
          </div>
          <div class="contact-meta">
            <svg class="pin-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M16 12V4h1V2H7v2h1v8l-2 2v2h5.2v6h1.6v-6H18v-2l-2-2z"/></svg>
            <span class="contact-time"></span>
          </div>
        </div>
        <div class="contact-item" data-contact="avocado">
          <img src="assets/avocado.png" alt="鳄梨" class="contact-avatar">
          <div class="contact-info">
            <div class="contact-name">鳄梨<span class="org-tag">@华立科技</span></div>
            <div class="contact-preview"></div>
          </div>
          <div class="contact-meta">
            <span class="contact-time"></span>
          </div>
        </div>
        <div class="contact-item" data-contact="lemon">
          <img src="assets/lemon.png" alt="柠檬" class="contact-avatar">
          <div class="contact-info">
            <div class="contact-name">柠檬<span class="org-tag">@华立科技</span></div>
            <div class="contact-preview"></div>
          </div>
          <div class="contact-meta">
            <span class="contact-time"></span>
          </div>
        </div>
      </div>
    </aside>

    <!-- 聊天区域 -->
    <main class="chat-area">
      <header class="chat-header">
        <button class="back-btn" id="backBtn">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
        </button>
        <span class="chat-title"></span>
        <div class="header-actions">
          <svg viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="12" r="2"/><circle cx="6" cy="12" r="2"/><circle cx="18" cy="12" r="2"/></svg>
        </div>
      </header>
      <div class="messages-container" id="messagesContainer">
        <!-- 消息会在这里动态添加 -->
      </div>
      <footer class="chat-input-area" id="chatInputArea">
        <div class="input-toolbar">
          <button class="toolbar-btn" title="表情">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"/></svg>
          </button>
          <button class="toolbar-btn" title="文件">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"/></svg>
          </button>
          <button class="toolbar-btn" title="截图">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>
          </button>
        </div>
        <div class="input-wrapper">
          <textarea id="messageInput" placeholder="在此输入消息..." rows="3"></textarea>
        </div>
        <div class="input-actions">
          <button class="send-btn" id="sendBtn">发送(S)</button>
        </div>
      </footer>
      <!-- 加载提示 -->
      <div class="loading-bar" id="loadingBar">
        <div class="loading-spinner"></div>
        <span>消息收取中</span>
      </div>
      <!-- 服务号底部菜单 -->
      <footer class="service-menu" id="serviceMenu">
        <div class="menu-item has-submenu" data-menu="records">
          <span>我的记录</span>
          <div class="submenu">
            <a href="https://maimai.wahlap.com/maimai-mobile/home/" target="_blank">舞萌DX</a>
            <a href="https://chunithm.wahlap.com/mobile/home/" target="_blank">中二节奏</a>
          </div>
        </div>
        <div class="menu-item" data-menu="qrcode" id="qrcodeBtn">
          <span>玩家二维码</span>
        </div>
        <div class="menu-item has-submenu" data-menu="info">
          <span>资讯</span>
          <div class="submenu submenu-right">
            <a href="http://wc.wahlap.net/sega/music/select/play.html" target="_blank">游戏介绍</a>
            <a href="http://wc.wahlap.net/sega/music/select/store.html" target="_blank">店铺分布</a>
            <a href="http://wc.wahlap.net/maidx/customer_service/index.html" target="_blank">联系客服</a>
            <div class="submenu-message" data-action="consultCode">发行咨询代码</div>
            <a href="https://privacy.wahlap.net/maimai&chunithm.list.html" target="_blank">隐私说明</a>
          </div>
        </div>
      </footer>
    </main>
  </div>

  <script src="script.js"></script>
</body>
</html>
